#!/bin/sh

# ========================================
# Autostart
# ========================================

# Keybinds
pgrep -x sxhkd > /dev/null || sxhkd &

# Bar
$HOME/.config/polybar/launch.sh &

# Compositor
pgrep -x picom > /dev/null || picom --config $HOME/.config/picom/picom.conf &

# Notifications
pgrep -x dunst > /dev/null || dunst &

# Wallpaper (solid color for now - Tokyo Night background)
xsetroot -solid "#1a1b26"

# Polkit agent (needed for GUI password prompts)
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

# Cursor
xsetroot -cursor_name left_ptr

# ========================================
# Desktops
# ========================================

bspc monitor -d 1 2 3 4 5 6 7 8 9

# ========================================
# Window Settings
# ========================================

bspc config border_width         2
bspc config window_gap           10
bspc config top_padding          30

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true
bspc config single_monocle       true

# Tokyo Night colors
bspc config normal_border_color   "#414868"
bspc config active_border_color   "#565f89"
bspc config focused_border_color  "#7aa2f7"

# ========================================
# Window Rules
# ========================================

bspc rule -a Firefox desktop='^2' follow=on
bspc rule -a steam desktop='^5' state=floating follow=on
bspc rule -a lutris desktop='^5' state=floating follow=on
bspc rule -a vesktop desktop='^4' follow=on
bspc rule -a Spotify desktop='^4' follow=on
bspc rule -a Thunar state=floating
bspc rule -a feh state=floating
